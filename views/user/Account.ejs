<!DOCTYPE html>
<html lang="zxx" class="no-js">

<head>

    <head>
        <!-- Your CSS styles -->
        <style>
            /* Set default link text color to black */
            ul.nav li.nav-item a.nav-link {
                color: black !important; /* Set default text color to black */
            }
    
            /* Change only the active link background color */
            ul.nav li.nav-item a.nav-link.active {
                background-color: orange !important; /* Change active link background color */
            }
        </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Mobile Specific Meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon-->
    <link rel="shortcut icon" href="img/fav.png">
    <!-- Author Meta -->
    <meta name="author" content="CodePixar">
    <!-- Meta Description -->
    <meta name="description" content="">
    <!-- Meta Keyword -->
    <meta name="keywords" content="">
    <!-- meta character set -->
    <meta charset="UTF-8">
    <!-- Site Title -->
    <title>Karma Shop</title>

    <!--
            CSS
            ============================================= -->
            <style>
                /* Remove default link styles and set all links to orange */
                .nav-link {
                    color: orange !important; /* Set text color to orange */
                }
        
                /* Optional: Change the active link background */
                .nav-link.active {
                    background-color: lightgray; /* Change background color for active link */
                }
        
                /* Optional: Change the active link text color */
                .nav-link.active {
                    color: white; /* Change text color for active link */
                }
            </style>
        

    <link rel="stylesheet" href="css/linearicons.css">
    <link rel="stylesheet" href="css/owl.carousel.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/themify-icons.css">
    <link rel="stylesheet" href="css/nice-select.css">
    <link rel="stylesheet" href="css/nouislider.min.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/main.css">
    <meta charset="utf-8">
    <title>Evara - eCommerce HTML Template</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/assets2/imgs/theme/favicon.svg">
    <!-- Template CSS -->
    <link rel="stylesheet" href="/assets2/css/maind134.css?v=3.4">
</head>

<body>

    <!-- Start Header Area -->
	<header class="header_area sticky-header">
		<div class="main_menu">
			<nav class="navbar navbar-expand-lg navbar-light main_box">
				<div class="container">
					<!-- Brand and toggle get grouped for better mobile display -->
					<a class="navbar-brand logo_h" href="index.html"><img src="img/logo.png" alt=""></a>
					<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
					 aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse offset" id="navbarSupportedContent">
						<ul class="nav navbar-nav menu_nav ml-auto">
							<li class="nav-item active"><a class="nav-link" href="/home">Home</a></li>
							<li class="nav-item"><a class="nav-link" href="/bookList">All Books</a></li>
							
							<!-- <li class="nav-item submenu dropdown">
								<a href="/product" class="nav-link dropdown-toggle"  role="button" aria-haspopup="true"
								 aria-expanded="false"></a> -->
								<!-- <ul class="dropdown-menu">
									<li class="nav-item"><a class="nav-link" href="category.html">Shop Category</a></li>
									<li class="nav-item"><a class="nav-link" href="single-product.html">Product Details</a></li>
									<li class="nav-item"><a class="nav-link" href="checkout.html">Product Checkout</a></li>
									<li class="nav-item"><a class="nav-link" href="cart.html">Shopping Cart</a></li>
									<li class="nav-item"><a class="nav-link" href="confirmation.html">Confirmation</a></li>
								</ul> -->
							<!-- </li> -->
							<li class="nav-item submenu dropdown">
								<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
								 aria-expanded="false">Blog</a>
								<ul class="dropdown-menu">
									<li class="nav-item"><a class="nav-link" href="blog.html">Blog</a></li>
									<li class="nav-item"><a class="nav-link" href="single-blog.html">Blog Details</a></li>
								</ul>
							</li>
							<li class="nav-item submenu dropdown">
								<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
								 aria-expanded="false">Pages</a>
								<ul class="dropdown-menu">
									<li class="nav-item"><a class="nav-link" href="login.html">Login</a></li>
									<li class="nav-item"><a class="nav-link" href="tracking.html">Tracking</a></li>
									<li class="nav-item"><a class="nav-link" href="elements.html">Elements</a></li>
								</ul>
							</li>
							<li class="nav-item"><a class="nav-link" href="/account">Account</a></li>
							<li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
                            <li class="nav-item "><a class="nav-link" href="/account" ><i class="fas fa-user"></i><%=userData.name%></a></li>

						</ul>
						<ul class="nav navbar-nav navbar-right">
							<li class="nav-item"><a href="/cart" class="cart"><span class="ti-bag"></span></a></li>
							<li class="nav-item">
								<button class="search"><span class="lnr lnr-magnifier" id="search"></span></button>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</div>
		<div class="search_input" id="search_input_box">
			<div class="container">
				<form class="d-flex justify-content-between">
					<input type="text" class="form-control" id="search_input" placeholder="Search Here">
					<button type="submit" class="btn"></button>
					<span class="lnr lnr-cross" id="close_search" title="Close Search"></span>
				</form>
			</div>
		</div>
	</header>
	<!-- End Header Area -->

    <!-- Start Banner Area -->
    <section class="banner-area organic-breadcrumb">
        <div class="container">
            <div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
                <div class="col-first">
                    <h1>Order Tracking</h1>
                    <nav class="d-flex align-items-center">
                        <a href="/home">Home<span class="lnr lnr-arrow-right"></span></a>
                        <a href="category.html">Fashon Category</a>
                    </nav>
                </div>
            </div>
        </div>
    </section>
    <!-- End Banner Area -->

    <!--================Tracking Box Area =================-->
    <section class="tracking_box_area section_gap">
        <section class="pt-150 pb-150">
            <div class="container">
                <div class="row">
                    <div class="col-lg-10 m-auto">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="dashboard-menu">
                                    <ul class="nav flex-column" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link active" id="dashboard-tab" data-bs-toggle="tab" href="#dashboard" role="tab" aria-controls="dashboard" aria-selected="false"><i class="fi-rs-settings-sliders mr-10"></i>Dashboard</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="orders-tab" data-bs-toggle="tab" href="#orders" role="tab" aria-controls="orders" aria-selected="false"><i class="fi-rs-shopping-bag mr-10"></i>Orders</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="track-orders-tab" data-bs-toggle="tab" href="#track-orders" role="tab" aria-controls="track-orders" aria-selected="false"><i class="fi-rs-shopping-cart-check mr-10"></i>Wallet</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="address-tab" data-bs-toggle="tab" href="#address" role="tab" aria-controls="address" aria-selected="true"><i class="fi-rs-marker mr-10"></i>My Address</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="account-detail-tab" data-bs-toggle="tab" href="#account-detail" role="tab" aria-controls="account-detail" aria-selected="true"><i class="fi-rs-user mr-10"></i>Account details</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="page-login-register.html"><i class="fi-rs-sign-out mr-10"></i>Logout</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="tab-content dashboard-content">
                                    <div class="tab-pane fade active show" id="dashboard" role="tabpanel" aria-labelledby="dashboard-tab">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5 class="mb-0"><%=userData.name%> </h5>
                                            </div>
                                            <div class="card-body">
                                                <p>From your account dashboard. you can easily check &amp; view your <a href="#">recent orders</a>, manage your <a href="#">shipping and billing addresses</a> and <a href="#">edit your password and account details.</a></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="orders" role="tabpanel" aria-labelledby="orders-tab">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5 class="mb-0">Your Orders</h5>
                                            </div>
                                            <div class="card-body">
                                                <div class="table-responsive">
                                                    <table class="table">
                                                        <thead>
                                                            <tr>
                                                                <th>Order</th>
                                                                <th>Date</th>
                                                                <th>Status</th>
                                                                <th>Total</th>
                                                                <th>Actions</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            
                                                            <% if (orderData && Array.isArray(orderData) && orderData.length > 0) {
                                                                orderData.forEach((orderData) => { %>
                                                                    <tr>
                                                                        <td>#<%= orderData.orderId %></td>
                                                                        <td><%= new Date(orderData.currentData).toLocaleString() %></td>
                                                                        <td><%= orderData.Status %></td>
                                                                        <td>â‚¹<%= orderData.totalAmount %></td>
                                                                        <td><a href="/orderstatus?id=<%= orderData._id %>" class="btn-small d-block">View</a></td>
                                                                    </tr>
                                                            <%  });
                                                            } %>

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="track-orders" role="tabpanel" aria-labelledby="track-orders-tab">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5 class="mb-0">My Wallet</h5>
                                            </div>
                                            <div class="card-body contact-from-area">
                                                <div class="row">
                                                    <div class="col-lg-8">
                                                        <form class="contact-form-style mt-30 mb-50" action="#" method="post">
                                                            <div class="input-style mb-20">
                                                                <h5>Name: <span><%=userData.name%></span></h5>
                                                            </div>
                                                            <div class="input-style mb-20">
                                                                <h5>Phone:<span><%=userData.phone%></span></h5>
                                                            </div>
                                                            <div class="input-style mb-20">
                                                                <input type="text" placeholder="<%=userData.wallet%>" readonly style="font-weight: bold;">
                                                            </div>                                                                                                                                                                                 
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="tab-pane fade" id="address" role="tabpanel" aria-labelledby="address-tab">
                                        <div class="row">
                                            <% if(userData && userData.address && userData.address.length > 0) { %>
                                                <% userData.address.forEach((address, index) => { %>
                                                    <div class="col-lg-6">
                                                        <div class="card mb-3 mb-lg-0">
                                                            <div class="card-header">
                                                                <h5 class="mb-0">Billing Address</h5>
                                                            </div>
                                                            <div class="card-body">
                                                                <address>
                                                                    <%= address.firstName %> %>,<br>
                                                                    <%= address.City %>,<br> 
                                                                    <%= address.District %>,<br>
                                                                    <%= address.State %>,<br>
                                                                    <%= address.Pincode %>
                                                                </address>
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <p class="mb-0">
                                                                        <a href="/editAddress?index=<%= index %>" class="mr-2">Edit</a>
                                                                    </p>
                                                                    <button type="button" class="btn btn-sm btn-link trash-button" style="background-color: orange; border: none;" data-index="<%= index %>">
                                                                        <i class="fas fa-trash-alt text-white"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                <% }) %>
                                            <% } else { %>
                                                <!-- Handle case when userData or address details are not available -->
                                                <div>No billing addresses found.</div>
                                            <% } %>
                                        </div>
                                        <button id="toggleFormButton" class="btn btn-warning mt-5" data-bs-toggle="modal" data-bs-target="#exampleModal" style="background-color: orange; border:none">Add address</button>
                        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-body">
                                        <form class="contact_form" id="myForm" action="/addaddress" method="POST" onsubmit="return validateForm()">
                                            <div class="mb-3">
                                                <label for="first"  class="form-label">First name</label>
                                                <input type="text"  class="form-control" id="first" name="fname" >
                                                <span id="firstError" class="text-danger"></span>
                                            </div>
                                            <div class="mb-3">
                                                <label for="last" class="form-label">Last name</label>
                                                <input type="text" class="form-control" id="last" name="lname" >
                                                <span id="lastError" class="text-danger"></span>
                                            </div>
                                            <div class="mb-3">
                                                <label for="city" class="form-label">City/Town</label>
                                                <input type="text" class="form-control" id="city" name="city" >
                                                <span id="cityError" class="text-danger"></span>
                                            </div>
                                            <div class="mb-3">
                                                <label for="district" class="form-label">District</label>
                                                <input type="text" class="form-control" id="district" name="district" >
                                                <span id="districtError" class="text-danger"></span>
                                            </div>
                                            <div class="mb-3">
                                                <label for="state" class="form-label">State</label>
                                                <input type="text" class="form-control" id="state" name="state" >
                                                <span id="stateError" class="text-danger"></span>
                                            </div>
                                            <div class="mb-3">
                                                <label for="pincode" class="form-label">Pincode</label>
                                                <input type="text" class="form-control" id="zip" name="pincode" >
                                                <span id="pincodeError" class="text-danger"></span>
                                            </div>
                                            <div class="mb-3">
                                                <button type="submit" class="btn btn-warning">Submit</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <script>
                            document.getElementById('toggleFormButton').addEventListener('click', function() {
                                const modal = new bootstrap.Modal(document.getElementById('exampleModal'));
                                modal.toggle();
                            });
                    
                            function validateForm() {
                                const firstName = document.getElementById('first').value;
                                const lastName = document.getElementById('last').value;
                                const city = document.getElementById('city').value;
                                const district = document.getElementById('district').value;
                                const state = document.getElementById('state').value;
                                const pincode = document.getElementById('zip').value;
                    
                                const nameRegex = /^[A-Za-z]+$/;
                                const pincodeRegex = /^\d{6}$/;
                    
                                if (!nameRegex.test(firstName)) {
                                    showError('firstError', 'First name should contain only letters');
                                    return false;
                                } else {
                                    hideError('firstError');
                                }
                    
                                if (!nameRegex.test(lastName)) {
                                    showError('lastError', 'Last name should contain only letters');
                                    return false;
                                } else {
                                    hideError('lastError');
                                }
                    
                                // Validation for city, district, state, and pincode
                                // Add similar checks using regular expressions and conditions
                    
                                if (!nameRegex.test(city)) {
                                    showError('cityError', 'City should contain only letters');
                                    return false;
                                } else {
                                    hideError('cityError');
                                }
                    
                                if (!nameRegex.test(district)) {
                                    showError('districtError', 'District should contain only letters');
                                    return false;
                                } else {
                                    hideError('districtError');
                                }
                    
                                if (!nameRegex.test(state)) {
                                    showError('stateError', 'State should contain only letters');
                                    return false;
                                } else {
                                    hideError('stateError');
                                }
                    
                                if (!pincodeRegex.test(pincode)) {
                                    showError('pincodeError', 'Pincode should be a 6-digit number');
                                    return false;
                                } else {
                                    hideError('pincodeError');
                                }
                    
                                return true; // Form submits if all validations pass
                            }
                    
                            function showError(id, message) {
                                const errorElement = document.getElementById(id);
                                errorElement.innerText = message;
                                errorElement.classList.add('error-message'); // Add the error class
                            }
                    
                            function hideError(id) {
                                const errorElement = document.getElementById(id);
                                errorElement.innerText = '';
                                errorElement.classList.remove('error-message'); // Remove the error class
                            }
                        </script>
                    
                        <style>
                            .error-message {
                                color: red;
                            }
                        </style>
                                    </div>
                                    
                                    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

<!-- ... (your HTML code) ... -->

<script>
    // Add event listener to all buttons with the "trash-button" class
    const trashButtons = document.querySelectorAll('.trash-button');
    trashButtons.forEach(button => {
        button.addEventListener('click', function() {
            const index = this.getAttribute('data-index');
            
            // Show a SweetAlert confirmation before proceeding with deletion
            Swal.fire({
                title: 'Are you sure?',
                text: 'This action will delete the address. Continue?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: 'orange',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, delete it!'
            }).then((result) => {
                if (result.isConfirmed) {
                    // If confirmed, construct the URL with the index and initiate the GET request
                    window.location.href = `/deleteAddress?index=${index}`; // Replace 'deleteAddress' with your appropriate endpoint
                }
            });
        });
    });
</script>

                                    
                                    <div class="tab-pane fade" id="account-detail" role="tabpanel" aria-labelledby="account-detail-tab">
                                        <div class="card">
                                            <div class="card-header">
                                                <h5>Account Details</h5>
                                            </div>
                                            <div class="container">
                                                <div class="card-body">
                                                    <form method="post" action="/editProfile" name="profileForm" id="profileForm">
                                                        <div class="row">
                                                            <div class="form-group col-md-6">
                                                                <label>First Name <span class="required">*</span></label>
                                                                <input class="form-control square" value="<%=userData.name%>" name="name" type="text">
                                                            </div>
                                                            <div class="form-group col-md-6">
                                                                <label>Email <span class="required">*</span></label>
                                                                <input  type="email" value="<%=userData.email%>" class="form-control square" name="email">
                                                            </div>
                                                            <div class="form-group col-md-12">
                                                                <label>Phone Number <span class="required">*</span></label>
                                                                <input value="<%=userData.phone%>" name="phone" type="text">
                                                            </div>
                                                            <div class="col-md-12">
                                                                <button type="submit" class="btn btn-fill-out submit" name="submit" value="Submit" style="background-color: orange; border: none;">Save</button>
                                                                <button class="btn btn-fill-out submit" type="button" name="changePassword" id="changePasswordBtn" style="background-color: orange; border: none;">Change Password</button>                                                                                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                            
                                            <!-- SweetAlert library -->
                                            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
                                            
                                            <script>
  document.getElementById('profileForm').addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent the default form submission

    // Function to create error message elements
    const createErrorMessage = (field, message) => {
        const errorMessage = document.createElement('span');
        errorMessage.classList.add('error-message');
        errorMessage.style.color = 'red';
        errorMessage.textContent = message;
        
        // Insert error message after the field
        field.parentNode.insertBefore(errorMessage, field.nextSibling);
    };

    // Function to remove error message elements
    const removeErrorMessages = () => {
        const errorMessages = document.querySelectorAll('.error-message');
        errorMessages.forEach(errorMessage => errorMessage.remove());
    };

    // Validation logic
    const nameField = document.querySelector('input[name="name"]');
    const emailField = document.querySelector('input[name="email"]');
    const phoneField = document.querySelector('input[name="phone"]');
    let isValid = true;

    removeErrorMessages(); // Clear previous error messages

    // Name validation: Should not be a number
    if (!isNaN(nameField.value.trim())) {
        createErrorMessage(nameField, 'Name should not be a number');
        isValid = false;
    }

    // Email validation: Using a simple regular expression for basic email format validation
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(emailField.value.trim())) {
        createErrorMessage(emailField, 'Enter a valid email address');
        isValid = false;
    }

    // Phone validation: Should be 10 numbers
    if (phoneField.value.trim().length !== 10 || isNaN(phoneField.value.trim())) {
        createErrorMessage(phoneField, 'Phone number should be 10 digits');
        isValid = false;
    }

    // If form is valid, proceed with submitting the form
    if (isValid) {
        const name = nameField.value.trim();
        const email = emailField.value.trim();
        const phone = phoneField.value.trim();

        const url = `/editProfile?name=${encodeURIComponent(name)}&email=${encodeURIComponent(email)}&phone=${encodeURIComponent(phone)}`;

        fetch(url, {
            method: 'GET',
        })
        .then(response => {
            if (response.ok) {
                Swal.fire({
                    title: 'Changes Saved!',
                    icon: 'success',
                    showCancelButton: false,
                    confirmButtonColor: '#3085d6',
                    confirmButtonText: 'OK'
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Optionally perform any action after successful submission
                    }
                });
            } else if (response.status === 400) {
                response.text().then(errorMessage => {
                    Swal.fire({
                        title: 'Error!',
                        text: errorMessage, // Display the error message from the response
                        icon: 'error',
                        confirmButtonColor: '#3085d6',
                        confirmButtonText: 'OK'
                    });
                });
            } else {
                // Handle other error statuses if needed
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }
});

                                            </script>
                                            
                                            <div class="modal" id="changePasswordModal">
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                        <form action="/changePassword" method="post" id="changePasswordForm">
                                                            <div class="modal-header">
                                                                <h4 class="modal-title">Change Password</h4>
                                                            </div>
                                                            <div class="modal-body">
                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="currentPassword">Current Password <span class="required">*</span></label>
                                                                            <input class="form-control square" name="currentPassword" id="currentPassword" type="password" >
                                                                            <div id="currentPasswordError" class="error-message text-danger"></div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="newPassword">New Password <span class="required">*</span></label>
                                                                            <input class="form-control square" name="newPassword" id="newPassword" type="password" >
                                                                            <div id="newPasswordError" class="error-message text-danger"></div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="confirmPassword">Confirm Password <span class="required">*</span></label>
                                                                            <input class="form-control square" name="confirmPassword" id="confirmPassword" type="password" >
                                                                            <div id="confirmPasswordError" class="error-message text-danger"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="submit" class="btn btn-primary">Submit</button>
                                                                <button type="button" class="btn btn-secondary" id="closeModalBtn">Close</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                      
                                      
                                          
                                          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
                                          <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
                                          <script>
                                            // Show the modal when the "Change Password" button is clicked
                                            $('#changePasswordBtn').on('click', function() {
                                              $('#changePasswordModal').modal('show');
                                            });
                                          
                                            // Close the modal without showing it again
                                            $('#changePasswordModal').on('hide.bs.modal', function(e) {
                                              if (e.target === this) {
                                                $(this).find('form')[0].reset(); // Clear form fields
                                              }
                                            });
                                          
                                            // Close button behavior
                                            $('#closeModalBtn').on('click', function() {
                                              $('#changePasswordModal').modal('hide');
                                            });
                                          </script>
                                         <script>
    document.getElementById('changePasswordForm').addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent the default form submission

    const currentPassword = document.getElementById('currentPassword').value;
    const newPassword = document.getElementById('newPassword').value;
    const confirmPassword = document.getElementById('confirmPassword').value;

    const errorColor = 'red';
    const errorMessageStyle = `color: ${errorColor};`;

    const currentPasswordError = document.getElementById('currentPasswordError');
    const newPasswordError = document.getElementById('newPasswordError');
    const confirmPasswordError = document.getElementById('confirmPasswordError');

    currentPasswordError.textContent = '';
    newPasswordError.textContent = '';
    confirmPasswordError.textContent = '';

    let isValid = true;

    if (currentPassword.length < 8) {
        currentPasswordError.textContent = 'Current password should be at least 8 characters';
        currentPasswordError.style = errorMessageStyle;
        isValid = false;
    }

    if (newPassword.length < 8) {
        newPasswordError.textContent = 'New password should be at least 8 characters';
        newPasswordError.style = errorMessageStyle;
        isValid = false;
    }

    if (confirmPassword.length < 8) {
        confirmPasswordError.textContent = 'Confirm password should be at least 8 characters';
        confirmPasswordError.style = errorMessageStyle;
        isValid = false;
    }

    if (newPassword !== confirmPassword) {
        newPasswordError.textContent = 'New password and confirm password do not match';
        newPasswordError.style = errorMessageStyle;
        confirmPasswordError.textContent = 'New password and confirm password do not match';
        confirmPasswordError.style = errorMessageStyle;
        isValid = false;
    }

    if (isValid) {
        fetch(`/changePassword?currentPassword=${encodeURIComponent(currentPassword)}&newPassword=${encodeURIComponent(newPassword)}`, {
            method: 'POST',
            // Additional headers or configurations if needed
            // body: JSON.stringify({ currentPassword, newPassword }), // Use this for a more secure JSON payload
        })
        .then(response => {
            if (response.ok) {
                Swal.fire({
                    title: 'Password Changed!',
                    text: 'Your password has been changed successfully.',
                    icon: 'success',
                    confirmButtonColor: '#3085d6',
                    confirmButtonText: 'OK'
                }).then(() => {
                    // Reload the page after successful password change
                    window.location.reload();
                });
            
            } else if (response.status === 400) {
                response.json().then(data => {
                    Swal.fire({
                        title: 'Error!',
                        text: data.message || 'Something went wrong!',
                        icon: 'error',
                        confirmButtonColor: '#d33',
                        confirmButtonText: 'OK'
                    });
                });
            } else {
                // Handle other error responses if needed
            }
        })
        .catch(error => {
            console.error('Error:', error);
            // Handle fetch error
        });
    }
});


                                         </script>
                                          
                                          
                                              
                                              
                                              
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </section>
    <!--================End Tracking Box Area =================-->

    <!-- start footer Area -->
    <footer class="footer-area section_gap">
        <div class="container">
            <div class="row">
                <div class="col-lg-3  col-md-6 col-sm-6">
                    <div class="single-footer-widget">
                        <h6>About Us</h6>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt
                            ut labore dolore
                            magna aliqua.
                        </p>
                    </div>
                </div>
                <div class="col-lg-4  col-md-6 col-sm-6">
                    <div class="single-footer-widget">
                        <h6>Newsletter</h6>
                        <p>Stay update with our latest</p>
                        <div class="" id="mc_embed_signup">

                            <form target="_blank" novalidate="true" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
                                method="get" class="form-inline">

                                <div class="d-flex flex-row">

                                    <input class="form-control" name="EMAIL" placeholder="Enter Email" onfocus="this.placeholder = ''"
                                        onblur="this.placeholder = 'Enter Email '" required="" type="email">


                                    <button class="click-btn btn btn-default"><i class="fa fa-long-arrow-right"
                                            aria-hidden="true"></i></button>
                                    <div style="position: absolute; left: -5000px;">
                                        <input name="b_36c4fd991d266f23781ded980_aefe40901a" tabindex="-1" value=""
                                            type="text">
                                    </div>

                                    <!-- <div class="col-lg-4 col-md-4">
													<button class="bb-btn btn"><span class="lnr lnr-arrow-right"></span></button>
												</div>  -->
                                </div>
                                <div class="info"></div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3  col-md-6 col-sm-6">
                    <div class="single-footer-widget mail-chimp">
                        <h6 class="mb-20">Instragram Feed</h6>
                        <ul class="instafeed d-flex flex-wrap">
                            <li><img src="img/i1.jpg" alt=""></li>
                            <li><img src="img/i2.jpg" alt=""></li>
                            <li><img src="img/i3.jpg" alt=""></li>
                            <li><img src="img/i4.jpg" alt=""></li>
                            <li><img src="img/i5.jpg" alt=""></li>
                            <li><img src="img/i6.jpg" alt=""></li>
                            <li><img src="img/i7.jpg" alt=""></li>
                            <li><img src="img/i8.jpg" alt=""></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-6 col-sm-6">
                    <div class="single-footer-widget">
                        <h6>Follow Us</h6>
                        <p>Let us be social</p>
                        <div class="footer-social d-flex align-items-center">
                            <a href="#"><i class="fa fa-facebook"></i></a>
                            <a href="#"><i class="fa fa-twitter"></i></a>
                            <a href="#"><i class="fa fa-dribbble"></i></a>
                            <a href="#"><i class="fa fa-behance"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom d-flex justify-content-center align-items-center flex-wrap">
                <p class="footer-text m-0"><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
</p>
            </div>
        </div>
    </footer>
    <!-- End footer Area -->


    <!-- Vendor JS-->
    <script src="/assets2/js/vendor/modernizr-3.6.0.min.js"></script>
    <script src="/assets2/js/vendor/jquery-3.6.0.min.js"></script>
    <script src="/assets2/js/vendor/jquery-migrate-3.3.0.min.js"></script>
    <script src="/assets2/js/vendor/bootstrap.bundle.min.js"></script>
    <script src="/assets2/js/plugins/slick.js"></script>
    <script src="/assets2/js/plugins/jquery.syotimer.min.js"></script>
    <script src="/assets2/js/plugins/wow.js"></script>
    <script src="/assets2/js/plugins/jquery-ui.js"></script>
    <script src="/assets2/js/plugins/perfect-scrollbar.js"></script>
    <script src="/assets2/js/plugins/magnific-popup.js"></script>
    <script src="/assets2/js/plugins/select2.min.js"></script>
    <script src="/assets2/js/plugins/waypoints.js"></script>
    <script src="/assets2/js/plugins/counterup.js"></script>
    <script src="/assets2/js/plugins/jquery.countdown.min.js"></script>
    <script src="/assets2/js/plugins/images-loaded.js"></script>
    <script src="/assets2/js/plugins/isotope.js"></script>
    <script src="/assets2/js/plugins/scrollup.js"></script>
    <script src="/assets2/js/plugins/jquery.vticker-min.js"></script>
    <script src="/assets2/js/plugins/jquery.theia.sticky.js"></script>
    <!-- Template  JS -->
    <script src="/assets2/js/maind134.js?v=3.4"></script>

    <script src="js/vendor/jquery-2.2.4.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
	 crossorigin="anonymous"></script>
	<script src="js/vendor/bootstrap.min.js"></script>
	<script src="js/jquery.ajaxchimp.min.js"></script>
	<script src="js/jquery.nice-select.min.js"></script>
	<script src="js/jquery.sticky.js"></script>
    <script src="js/nouislider.min.js"></script>
	<script src="js/jquery.magnific-popup.min.js"></script>
	<script src="js/owl.carousel.min.js"></script>
	<!--gmaps Js-->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjCGmQ0Uq4exrzdcL6rvxywDDOvfAu6eE"></script>
	<script src="js/gmaps.min.js"></script>
	<script src="js/main.js"></script>



    
</body>

</html>